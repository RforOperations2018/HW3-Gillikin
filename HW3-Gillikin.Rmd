---
title: "HW3-Gillikin"
output: html_document
---

```{r setup, include=FALSE}
require(rgdal)
require(leaflet)
require(leaflet.extras)
require(dplyr)
require(readxl)
require(stringr)
```



```{r}

housing.units <- read.csv("charlottesville_affordable_housing.csv")
#planning <- readOGR("planning_area/planning_area.shp", layer = "planning_area", GDAL1_integer64_policy = TRUE)
#plot(planning)


tract <- readOGR("./cb_2017_51_tract_500k/cb_2017_51_tract_500k.shp", layer = "cb_2017_51_tract_500k", GDAL1_integer64_policy = TRUE)
plot(tract)
```



```{r}

# Set palette
palet <- colorFactor(c("red", "blue"), c("multiple", "single"))

leaflet() %>%
  # Basemaps
  addTiles(group = "OpenStreetMap.Mapnik") %>%
  addProviderTiles("OpenStreetMap.HOT", group = "OpenStreetMap.HOT") %>%
  addProviderTiles("OpenTopoMap", group = "OpenTopoMap") %>%
  # Layer control
  addLayersControl(
    baseGroups = c("OpenStreetMap.Mapnik", "OpenStreetMap.HOT", "OpenTopoMap"),
    options = layersControlOptions(collapsed = FALSE)) %>%
  # Add markers
  addCircleMarkers(data = housing.units, lng = ~long, lat = ~lat, radius = 2, color = ~pal(type), clusterOptions = markerClusterOptions()) %>%
  # Add legend for circle markers
  addLegend(position = "topright" , pal = palet, values = housing.units$type, title = "Affordable Housing by Type")
  addPolygons(date = planning)

```



```{r}
```


